{#=====================================================
  About page (DEMO)
  - Information about Flask
  - Information about Jinja
  - Information about Turso
  - Information about PicoCSS
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

    User {{ user.username }}

{% endblock %}



{% block content %}

    <h1> 
        ðŸ‘¤ {{ user.username }} 

        {% include "components/tier-icon.jinja" %}
        
    </h1>

    {% if session.user_id == user.id %}
        
        {% if session.tier == 1 %}

            <p>Apply for a higher tier! </p>

        {% elif session.tier == 2 %}

            <p>Apply for a higher tier! </p>
        
        {% elif session.tier == 3%}

            <p>Apply for a higher tier!</p>

        {% endif %}

        <a href="/logout" role="button">Log out</a>

    {% endif %}

    <br>
    <br>

    <ul>
        {% for item in items %}
            
            {% if item.type == "post" %}
                <li>
                    <strong><a href="/post/{{ item.p_id }}"> {{ item.title }} </a></strong>
                    <small>{{ item.date }}</small>
                    <br>
                    <span>{{ item.content }}</span>
                    {% if session.user_id == item.author %}
                        <br>
                        <span><a href="/delete-post/{{ item.p_id }}">delete</a></span>
                    {% endif%}
                </li>

            {% elif item.type == "comment" %}
        
                <li>
                    <strong><a href="/post/{{ item.post }}">See post â¬ˆ</a></strong>
                    <small>{{ item.date }}</small>
                    <br>
                    <span>{{ item.content }}</span>
                    {% if session.user_id == item.author %}
                        <br>
                        <span><a>delete</a></span>
                    {% endif%}
                </li>

            {% endif %}

        {% else %}

            <p>This user has not made any posts or comments.</p>

        {% endfor %}
    </ul>


{% endblock %}

